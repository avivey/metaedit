!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.externals=e()}}(function(){return function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var f=Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return o(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;n.length>a;a++)o(n[a]);return o}({1:[function(e,t){function r(t,r){var n={};return e("js-github/mixins/github-db")(n,t,r),e("js-git/mixins/create-tree")(n),e("js-git/mixins/mem-cache")(n),e("js-git/mixins/walkers")(n),e("js-git/mixins/read-combiner")(n),e("js-git/mixins/formats")(n),n}e("js-git/lib/modes"),externals={jsgit:{connect_to_repo:r},gen_run:e("gen-run"),stringify:e("json-stable-stringify")},t.exports=externals},{"gen-run":3,"js-git/lib/modes":5,"js-git/mixins/create-tree":7,"js-git/mixins/formats":8,"js-git/mixins/mem-cache":9,"js-git/mixins/read-combiner":10,"js-git/mixins/walkers":11,"js-github/mixins/github-db":13,"json-stable-stringify":14}],2:[function(e,t){(function(r){"use strict";function n(e){return e&&"object"==typeof e&&e instanceof Uint8Array||"Uint8Array"===e.constructor.name}function o(e){return new Uint8Array(e)}function i(e){for(var t=e.length,r=0,n=0;t>n;n++)r+=e[n].length;var i=o(r),a=0;for(n=0;t>n;n++){var s=e[n];u(s,i,a),a+=s.length}return i}function a(e,t,r){return void 0===r&&(r=e.length,void 0===t&&(t=0)),e.subarray(t,r)}function u(e,t,r){var n=e.length;void 0===r&&(r=0,void 0===t&&(t=o(n)));for(var i=0;n>i;i++)t[i+r]=e[i];return t}function s(e,t,r){var n="";void 0===r&&(r=e.length,void 0===t&&(t=0));for(var o=t;r>o;o++){var i=e[o];n+=String.fromCharCode(l(i>>4))+String.fromCharCode(l(15&i))}return n}function f(e,t,r){var n=e.length/2;void 0===r&&(r=0,void 0===t&&(t=o(n)));for(var i=0,a=0;n>a;a++)t[r+a]=h(e.charCodeAt(i++))<<4|h(e.charCodeAt(i++));return t}function c(e,t,r){return btoa(x(e,t,r))}function d(e,t,r){return E(atob(e),t,r)}function l(e){return e|=0,0|e+(10>e?48:87)}function h(e){return e|=0,0|e-(64&e?87:48)}function p(e,t,r){return w(x(e,t,r))}function m(e,t,r){return E(j(e),t,r)}function v(e){for(var t=0,r=e.length,n="";r>t;)n+=String.fromCharCode(h(e.charCodeAt(t++))<<4|h(e.charCodeAt(t++)));return n}function g(e){for(var t="",r=e.length,n=0;r>n;n++){var o=e.charCodeAt(n);t+=String.fromCharCode(l(o>>4))+String.fromCharCode(l(15&o))}return t}function b(e){return atob(e)}function y(e){return btoa(e)}function w(e){return decodeURIComponent(escape(e))}function j(e){return unescape(encodeURIComponent(e))}function x(e,t,r){var n="";void 0===r&&(r=e.length,void 0===t&&(t=0));for(var o=t;r>o;o++)n+=String.fromCharCode(e[o]);return n}function E(e,t,r){var n=e.length;void 0===r&&(r=0,void 0===t&&(t=o(n)));for(var i=0;n>i;i++)t[r+i]=e.charCodeAt(i);return t}function A(e,t,r){void 0===r&&(r=e.length,void 0===t&&(t=0));for(var n=r-t,o=Array(n),i=0;n>i;i++)o[i]=e[i+t];return o}function T(e,t,r){var n=e.length;void 0===r&&(r=0,void 0===t&&(t=o(n)));for(var i=0;n>i;i++)t[r+i]=e[i];return t}var O="object"==typeof r&&"object"==typeof r.versions&&r.versions.node&&"renderer"!==r.__atom_type;if(O){var S=e;t.exports=S("./bodec-node.js")}else t.exports={Binary:Uint8Array,isBinary:n,create:o,join:i,copy:u,slice:a,toRaw:x,fromRaw:E,toUnicode:p,fromUnicode:m,toHex:s,fromHex:f,toBase64:c,fromBase64:d,toArray:A,fromArray:T,decodeHex:v,encodeHex:g,decodeBase64:b,encodeBase64:y,encodeUtf8:j,decodeUtf8:w,nibbleToCode:l,codeToNibble:h}}).call(this,e("_process"))},{_process:18}],3:[function(e,t){function r(e,t){function r(e,r){var n;try{if(n=e?f.throw(e):f.next(r),!n.done)return n.value&&a(n.value),d=!0,void 0}catch(e){return t(e)}return t(null,n.value)}function i(e,t){var r=(e?f.throw(e):f.next(t)).value;r&&a(r),d=!0}function a(e){if("function"==typeof e)return e(u());if(Array.isArray(e)){for(var t=0,r=e.length;r>t;++t)if("function"!=typeof e[t])return;return n(e,u())}if("object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype){for(var i=Object.keys(e),t=0,r=i.length;r>t;++t)if("function"!=typeof e[i[t]])return;return o(i,e,u())}}function u(){var e=!1;return function(){e||(e=!0,c=arguments,s())}}function s(){for(;c&&d;){var e=c[0],t=c[1];c=null,d=!1,l(e,t),d=!0}}var f;if("function"==typeof e)f=e(u);else{if("object"!=typeof e)throw new TypeError("Expected generator or iterator and got "+typeof e);f=e}var c=null,d=!1,l=t?r:i;l(),s()}function n(e,t){var r=e.length,n=r,o=Array(r),i=!1;return e.forEach(function(e,r){e(function(e,a){if(!i){if(e)return i=!0,t(e);if(o[r]=a,!--n)return i=!0,t(null,o)}})})}function o(e,t,r){var n=e.length,o=n,i={},a=!1;return e.forEach(function(e){var n=t[e];i[e]=null,n(function(t,n){if(!a){if(t)return a=!0,r(t);if(i[e]=n,!--o)return a=!0,r(null,i)}})})}t.exports=r},{}],4:[function(e,t){(function(r){"use strict";function n(){var e=u.createHash("sha1");return{update:function(t){return e.update(t)},digest:function(){return e.digest("hex")}}}function o(e){function t(e){if("string"==typeof e)return r(e);var t=e.length;v+=8*t;for(var o=0;t>o;o++)n(e[o])}function r(e){var t=e.length;v+=8*t;for(var r=0;t>r;r++)n(e.charCodeAt(r))}function n(e){s[p]|=(255&e)<<m,m?m-=8:(p++,m=24),16===p&&a()}function o(){n(128),(p>14||14===p&&24>m)&&a(),p=14,m=24,n(0),n(0),n(v>0xffffffffff?v/1099511627776:0),n(v>4294967295?v/4294967296:0);for(var e=24;e>=0;e-=8)n(v>>e);return u(f)+u(c)+u(d)+u(l)+u(h)}function a(){for(var e=16;80>e;e++){var t=s[e-3]^s[e-8]^s[e-14]^s[e-16];s[e]=t<<1|t>>>31}var r,n,o=f,i=c,a=d,u=l,m=h;for(e=0;80>e;e++){20>e?(r=u^i&(a^u),n=1518500249):40>e?(r=i^a^u,n=1859775393):60>e?(r=i&a|u&(i|a),n=2400959708):(r=i^a^u,n=3395469782);var v=(o<<5|o>>>27)+r+m+n+(0|s[e]);m=u,u=a,a=i<<30|i>>>2,i=o,o=v}for(f=0|f+o,c=0|c+i,d=0|d+a,l=0|l+u,h=0|h+m,p=0,e=0;16>e;e++)s[e]=0}function u(e){for(var t="",r=28;r>=0;r-=4)t+=(15&e>>r).toString(16);return t}var s,f=1732584193,c=4023233417,d=2562383102,l=271733878,h=3285377520,p=0,m=24,v=0;return s=e?i:new Uint32Array(80),{update:t,digest:o}}var i,a,u,s="object"==typeof r&&"object"==typeof r.versions&&r.versions.node&&"renderer"!==r.__atom_type;if(s){var f=e;u=f("crypto"),a=n}else i=new Uint32Array(80),a=o;t.exports=function(e){if(void 0===e)return a(!1);var t=a(!0);return t.update(e),t.digest()}}).call(this,e("_process"))},{_process:18}],5:[function(e,t){t.exports={isBlob:function(e){return 32768===(49152&e)},isFile:function(e){return 32768===(57344&e)},toType:function(e){return 57344===e?"commit":16384===e?"tree":32768===(49152&e)?"blob":"unknown"},tree:16384,blob:33188,file:33188,exec:33261,sym:40960,commit:57344}},{}],6:[function(e,t,r){"use strict";function n(e){if(!E.isBinary(e))throw new TypeError("Blobs must be binary values");return e}function o(e){var t=this[e];return{name:e,mode:t.mode,hash:t.hash}}function i(e,t){var r=e.mode===A.tree?e.name+"/":e.name,n=t.mode===A.tree?t.name+"/":t.name;return r>n?1:n>r?-1:0}function a(e){var t="";if(Array.isArray(e))throw new TypeError("Tree must be in object form");for(var r=Object.keys(e).map(o,e).sort(i),n=0,a=r.length;a>n;n++){var u=r[n];t+=u.mode.toString(8)+" "+E.encodeUtf8(u.name)+"\0"+E.decodeHex(u.hash)}return E.fromRaw(t)}function u(e){var t="object "+e.object+"\ntype "+e.type+"\ntag "+e.tag+"\ntagger "+f(e.tagger)+"\n\n"+e.message;return E.fromUnicode(t)}function s(e){for(var t="tree "+e.tree,r=0,n=e.parents.length;n>r;++r)t+="\nparent "+e.parents[r];return t+="\nauthor "+f(e.author)+"\ncommitter "+f(e.committer)+"\n\n"+e.message,E.fromUnicode(t)}function f(e){return c(e.name)+" <"+c(e.email)+"> "+l(e.date)}function c(e){return e.replace(/(?:^[\.,:;<>"']+|[\0\n<>]+|[\.,:;<>"']+$)/gm,"")}function d(e){return(10>e?"0":"")+e}function l(e){var t,r;e.seconds?(t=e.seconds,r=e.offset):(t=Math.floor(e.getTime()/1e3),r=e.getTimezoneOffset());var n="+";return 0>=r?r=-r:n="-",r=n+d(Math.floor(r/60))+d(r%60),t+" "+r}function h(e){var t=e.type,r=e.body;return E.isBinary(r)||(r=T[t](r)),E.join([E.fromRaw(t+" "+r.length+"\0"),r])}function p(e){return e}function m(e){for(var t,r,n,o,i=0,a=e.length,u={};a>i;){if(t=i,i=w(e,32,t),0>i)throw new SyntaxError("Missing space");r=j(e,t,i++),t=i,i=w(e,0,t),n=E.toUnicode(e,t,i++),o=E.toHex(e,i,i+=20),u[n]={mode:r,hash:o}}return u}function v(e){for(var t,r,n=0,o=[],i={tree:"",parents:o,author:"",committer:"",message:""};10!==e[n];){if(t=n,n=w(e,32,t),0>n)throw new SyntaxError("Missing space");if(r=E.toRaw(e,t,n++),t=n,n=w(e,10,t),0>n)throw new SyntaxError("Missing linefeed");var a=E.toUnicode(e,t,n++);"parent"===r?o.push(a):(("author"===r||"committer"===r)&&(a=b(a)),i[r]=a)}return n++,i.message=E.toUnicode(e,n,e.length),i}function g(e){for(var t,r,n=0,o={};10!==e[n];){if(t=n,n=w(e,32,t),0>n)throw new SyntaxError("Missing space");if(r=E.toRaw(e,t,n++),t=n,n=w(e,10,t),0>n)throw new SyntaxError("Missing linefeed");var i=E.toUnicode(e,t,n++);"tagger"===r&&(i=b(i)),o[r]=i}return n++,o.message=E.toUnicode(e,n,e.length),o}function b(e){var t=e.match(/^([^<]*) <([^>]*)> ([^ ]*) (.*)$/);if(!t)throw Error("Improperly formatted person string");return{name:t[1],email:t[2],date:{seconds:parseInt(t[3],10),offset:-60*(parseInt(t[4],10)/100)}}}function y(e,t){var r=w(e,32);if(0>r)throw Error("Invalid git object buffer");var n=w(e,0,r);if(0>n)throw Error("Invalid git object buffer");var o=E.slice(e,n+1),i=x(e,r+1,n);if(i!==o.length)throw Error("Invalid body length.");var a=E.toRaw(e,0,r);return{type:a,body:t?O[a](o):o}}function w(e,t,r){r|=0;for(var n=e.length;;r++){if(r>=n)return-1;if(e[r]===t)return r}}function j(e,t,r){for(var n=0;r>t;)n=(n<<3)+e[t++]-48;return n}function x(e,t,r){for(var n=0;r>t;)n=10*n+e[t++]-48;return n}var E=e("bodec"),A=e("./modes"),T=r.encoders={blob:n,tree:a,commit:s,tag:u};r.frame=h;var O=r.decoders={blob:p,tree:m,commit:v,tag:g};r.deframe=y,r.treeMap=o,r.treeSort=i},{"./modes":5,bodec:2}],7:[function(e,t){"use strict";function r(e){var t=!1;return function(){return t?console.warn("Discarding extra callback"):(t=!0,e.apply(this,arguments))}}var n=e("../lib/modes.js");t.exports=function(e){function t(o,i){function a(e){for(;;){if(d[e])return;if(d[e]=!0,l[e]={add:[],del:[],tree:{}},!e)break;e=e.substring(0,e.lastIndexOf("/"))}}function u(t,r){h++,delete d[t],e.loadAs("tree",r,function(e,r){return e?i(e):(l[t].tree=r,Object.keys(r).forEach(function(e){var n=t?t+"/"+e:e;d[n]&&u(n,r[e].hash)}),s(),void 0)})}function s(){--h||c().forEach(f)}function f(t){var r=l[t];delete l[t];var o=r.tree;r.del.forEach(function(e){delete o[e]}),r.add.forEach(function(e){o[e.name]={mode:e.mode,hash:e.hash}}),h++,e.saveAs("tree",o,function(e,r,o){if(e)return i(e);if(!t)return i(null,r,o);var a=t.lastIndexOf("/"),u=t.substring(0,a),s=t.substring(a+1);l[u].add.push({name:s,mode:n.tree,hash:r}),--h||c().forEach(f)})}function c(){var e=Object.keys(l),t={};return e.forEach(function(e){if(e){var r=e.substring(0,e.lastIndexOf("/"));t[r]=!0}}),e.filter(function(e){return!t[e]})}if(!i)return t.bind(null,o);i=r(i),Array.isArray(o)||(o=Object.keys(o).map(function(e){var t=o[e];return t.path=e,t}));var d={},l={},h=1;o.forEach(function(t){var r=t.path.lastIndexOf("/"),n=t.path.substr(0,r),o=t.path.substr(r+1);a(n);var u=l[n],f=u.add,c=u.del;if(!t.mode)return c.push(o),void 0;var d={name:o,mode:t.mode,hash:t.hash};f.push(d),t.hash||(h++,e.saveAs("blob",t.content,function(e,t){return e?i(e):(d.hash=t,s(),void 0)}))}),o.base&&u("",o.base),s()}e.createTree=t}},{"../lib/modes.js":5}],8:[function(e,t){"use strict";function r(e){return Object.keys(e).map(s,e)}function n(e){var t=e&&typeof e;if("object"!==t)throw new TypeError("Tree body must be array or object");var r,n,o,i={};if(Array.isArray(e))for(r=0,n=e.length;n>r;r++)o=e[r],i[o.name]={mode:o.mode,hash:o.hash};else{var a=Object.keys(e);for(r=0,n=a.length;n>r;r++){var u=a[r];o=e[u],i[u]={mode:o.mode,hash:o.hash}}}return i}function o(e){if(!e||"object"!=typeof e)throw new TypeError("Commit body must be an object");if(!(e.tree&&e.author&&e.message))throw new TypeError("Tree, author, and message are required for commits");var t=e.parents||(e.parent?[e.parent]:[]);if(!Array.isArray(t))throw new TypeError("Parents must be an array");var r=a(e.author),n=e.committer?a(e.committer):r;return{tree:e.tree,parents:t,author:r,committer:n,message:e.message}}function i(e){if(!e||"object"!=typeof e)throw new TypeError("Tag body must be an object");if(!(e.object&&e.type&&e.tag&&e.tagger&&e.message))throw new TypeError("Object, type, tag, tagger, and message required");return{object:e.object,type:e.type,tag:e.tag,tagger:a(e.tagger),message:e.message}}function a(e){if(!e||"object"!=typeof e)throw new TypeError("Person must be an object");if(!e.name||!e.email)throw new TypeError("Name and email are required for person fields");return{name:e.name,email:e.email,date:e.date||new Date}}var u=e("bodec"),s=e("../lib/object-codec").treeMap;t.exports=function(e){function t(n,o,i){function a(e,t,o){return void 0===t?i(e):("text"===n&&(t=u.toUnicode(t)),"array"===n&&(t=r(t)),i(e,t,o))}if(!i)return t.bind(e,n,o);var f="text"===n?"blob":"array"===n?"tree":n;return s.call(e,f,o,a)}function a(t,r,s){return s?(t="text"===t?"blob":"array"===t?"tree":t,"blob"===t?"string"==typeof r&&(r=u.fromUnicode(r)):"tree"===t?r=n(r):"commit"===t?r=o(r):"tag"===t&&(r=i(r)),f.call(e,t,r,s)):a.bind(e,t,r)}var s=e.loadAs;e.loadAs=t;var f=e.saveAs;e.saveAs=a}},{"../lib/object-codec":6,bodec:2}],9:[function(e,t){"use strict";function r(e){function t(r,i,a){return a?i in u?a(null,n(r,u[i]),i):(o.call(e,r,i,function(e,t){return void 0===t?a(e):(("blob"!==r||100>t.length)&&(u[i]=n(r,t)),a.apply(this,arguments))}),void 0):t.bind(this,r,i)}function r(t,o,a){return a?(o=n(t,o),i.call(e,t,o,function(e,r){return e?a(e):(("blob"!==t||100>o.length)&&(u[r]=o),a(null,r,o))}),void 0):r.bind(this,t,o)}var o=e.loadAs;e.loadAs=t;var i=e.saveAs;e.saveAs=r}function n(e,t){return"blob"===e?e.length>=100?t:new a(t):i[e](o[e](t))}var o=e("../lib/object-codec").encoders,i=e("../lib/object-codec").decoders,a=e("bodec").Binary,u=r.cache={};t.exports=r},{"../lib/object-codec":6,bodec:2}],10:[function(e,t){"use strict";t.exports=function(e){function t(o,i,a){if(!a)return t.bind(null,o,i);var u=r[i];return u?(u.type!==o?a(Error("Type mismatch")):u.push(a),void 0):(u=r[i]=[a],u.type=o,n.call(e,o,i,function(){delete r[i];for(var e=0,t=u.length;t>e;e++)u[e].apply(this,arguments)}),void 0)}var r={},n=e.loadAs;e.loadAs=t}},{}],11:[function(e,t){function r(e,t){function o(t,r){c=r,u(l,e,i)}function i(e,r){return e?t(e):l.loadAs("commit",r,function(e,o){return void 0===o?t(e):(o.hash=r,d[r]=!0,t(null,s(o,a,f,n)))})}function a(e){return c===e?[]:e.parents.filter(function(e){return!d[e]})}function f(e,t){return l.loadAs("commit",e,function(r,n){return n?(n.hash=e,e===c&&(n.last=!0),t(null,n)):t(r||Error("Missing commit "+e))})}if(!t)return r.bind(this,e);var c,d={},l=this;return l.readRef?l.readRef("shallow",o):o()}function n(e,t){return e.author.date<t.author.date}function o(e,t){function r(r,o){if(!o)return t(r||Error("Missing tree "+e));var u={mode:f.tree,hash:e,body:o,path:"/"};return t(null,s(u,i,n,a))}function n(e,t){if(e.mode!==f.tree)return t(null,e);var r=f.toType(e.mode);return u.loadAs(r,e.hash,function(r,n){return r?t(r):(e.body=n,t(null,e))})}if(!t)return o.bind(this,e);var u=this;return u.loadAs("tree",e,r)}function i(e){if(e.mode!==f.tree)return[];var t=e.body;return Object.keys(t).map(function(r){var n=t[r],o=e.path+r;return n.mode===f.tree&&(o+="/"),{mode:n.mode,hash:n.hash,path:o}})}function a(e,t){return e.path<t.path}function u(e,t,r){return/^[0-9a-f]{40}$/.test(t)?r(null,t):(e.readRef(t,function(e,n){return n?(r(null,n),void 0):r(e||Error("Bad ref "+t))}),void 0)}function s(e,t,r,n){function o(e){if(!e)return o;if(c)return e(Error("Only one read at a time"));if(l)return c=e,void 0;var r=d.shift();if(!r)return e();try{t(r).forEach(u)}catch(n){return e(n)}return e(null,r)}function i(e){return e()}function a(e){if(c){var t=c;return c=null,t(e)}f=e}function u(e){l++,r(e,s)}function s(e,t){if(l--,e)return a(e);for(var r=d.length;r&&n(t,d[r-1]);)r--;if(d.splice(r,0,t),!l&&c){var i=c;return c=null,o(i)}}var f,c,d=[e],l=0;return{read:o,abort:i}}var f=e("../lib/modes.js");t.exports=function(e){e.logWalk=r,e.treeWalk=o},t.exports.walk=s},{"../lib/modes.js":5}],12:[function(e,t){(function(r){"use strict";var n="object"==typeof r&&"object"==typeof r.versions&&r.versions.node&&"renderer"!==r.__atom_type;if(n){var o=e;t.exports=o("./xhr-node.js")}else t.exports=function(e,t){function r(o,i,a,u){function s(){if(!d&&4===l.readyState){if(!l.status)return setTimeout(s,0);d=!0;var e={message:l.responseText};if(l.responseText)try{e=JSON.parse(l.responseText)}catch(t){}return l.body=e,u(null,l,e)}}function f(){if(!d){if(8e3>n)return n*=2,r(o,i,a,u);d=!0,u(Error("Timeout requesting "+i))}}if("function"==typeof a)u=a,a=void 0;else if(!u)return r.bind(null,o,i,a);i=i.replace(":root",e);var c,d=!1,l=new XMLHttpRequest;if(l.timeout=n,l.open(o,"https://api.github.com"+i,!0),l.setRequestHeader("Authorization","token "+t),a)try{c=JSON.stringify(a)}catch(h){return u(h)}l.ontimeout=f,l.onerror=function(){u(Error("Error requesting "+i))},l.onreadystatechange=s,l.send(c)}var n=2e3;return r}}).call(this,e("_process"))},{_process:18}],13:[function(e,t){"use strict";function r(e,t,r){if("commit"===e||"tag"===e){for(var n=JSON.parse(JSON.stringify(t)),o=0;3>o;o++){for(var i=-720;720>i;i+=30)if("commit"===e?(n.author.date.offset=i,n.committer.date.offset=i):"tag"===e&&(n.tagger.date.offset=i),r===y(e,n))return t.message=n.message,"commit"===e?(t.author.date.offset=n.author.date.offset,t.committer.date.offset=n.committer.date.offset):"tag"===e&&(t.tagger.date.offset=n.tagger.date.offset),!0;n.message+="\n"}return!1}}function n(e){if(!e.mode)throw new TypeError("Invalid entry");var t=f(e.mode),r={path:e.path,mode:t,type:T[t]};return""===e.content&&(e.hash=k),e.hash?r.sha=e.hash:r.content=e.content,r}function o(e){var t={};return t.message=e.message,t.tree=e.tree,e.parents?t.parents=e.parents:e.parent?t.parents=[e.parent]:e.parents=[],e.author&&(t.author=a(e.author)),e.committer&&(t.committer=a(e.committer)),t}function i(e){return{tag:e.tag,message:e.message,object:e.object,tagger:a(e.tagger)}}function a(e){return{name:e.name,email:e.email,date:v(e.date)}}function u(e){return{tree:Object.keys(e).map(function(t){var r=e[t],n=f(r.mode);return{path:t,mode:n,type:T[n],sha:r.hash}})}}function s(e){if("string"==typeof e)return{content:x.encodeUtf8(e),encoding:"utf-8"};if(x.isBinary(e))return{content:x.toBase64(e),encoding:"base64"};throw new TypeError("Invalid blob type, must be binary or string")}function f(e){var t=e.toString(8);return 5===t.length&&(t="0"+t),t}function c(e){return{tree:e.tree.sha,parents:e.parents.map(function(e){return e.sha}),author:p(e.author),committer:p(e.committer),message:e.message}}function d(e){return{object:e.object.sha,type:e.object.type,tag:e.tag,tagger:p(e.tagger),message:e.message}}function l(e){var t={};return e.tree.forEach(function(e){t[e.path]={mode:parseInt(e.mode,8),hash:e.sha}}),t}function h(e){if("base64"===e.encoding)return x.fromBase64(e.content.replace(/\n/g,""));if("utf-8"===e.encoding)return x.fromUtf8(e.content);throw Error("Unknown blob encoding: "+e.encoding)}function p(e){return{name:e.name,email:e.email,date:m(e.date)}}function m(e){var t=e.match(/(-?)([0-9]{2}):([0-9]{2})$/),r=new Date(e),n=0;return t&&(n=("-"===t[1]?1:-1)*(60*parseInt(t[2],10)+parseInt(t[3],10))),{seconds:r.valueOf()/1e3,offset:n}}function v(e){var t=e.seconds-60*e.offset,r=new Date(1e3*t),n=r.toISOString(),o=0|e.offset/60,i=e.offset%60;return n=n.substring(0,n.lastIndexOf("."))+(e.offset>0?"-":"+")+g(o)+":"+g(i)}function g(e){return 10>e?"0"+e:""+e}function b(e){var t=!1;return function(){return t?console.warn("Discarding extra callback"):(t=!0,e.apply(this,arguments))}}function y(e,t){var r=A({type:e,body:t});return E(r)}var w=e("js-git/lib/modes"),j=e("../lib/xhr"),x=e("bodec"),E=e("git-sha1"),A=e("js-git/lib/object-codec").frame,T={"040000":"tree",100644:"blob",100755:"blob",120000:"blob",160000:"commit"},O={commit:o,tag:i,tree:u,blob:s},S={commit:c,tag:d,tree:l,blob:h},I={},C=x.create(0),k=E(A({type:"blob",body:C})),U=E(A({type:"tree",body:C}));t.exports=function(e,t,o){function i(t,n,o){function a(i,a,u){if(i)return o(i);if(200>a.status||a.status>=500)return o(Error("Invalid HTTP response: "+a.statusCode+" "+u.message));if(a.status>=300&&500>a.status)return o();var s;try{s=S[t].call(e,u)}catch(i){return o(i)}return y(t,s)!==n&&(r(t,s,n)?console.log(t+" repaired",n):console.warn("Unable to repair "+t,n)),I[n]=t,o(null,s,n)}return o?"tree"===t&&n===U?o(null,{},n):(m("GET","/repos/:root/git/"+t+"s/"+n,a),void 0):i.bind(e,t,n)}function a(t,r){function n(){return(i=u.pop())?(m("GET","/repos/:root/git/"+i+"s/"+t,o),void 0):r(null,!1)}function o(e,o,a){return e?r(e):200>o.status||o.status>=500?r(Error("Invalid HTTP response: "+o.statusCode+" "+a.message)):o.status>=300&&500>o.status?n():(I[t]=i,r(null,!0),void 0)}if(!r)return a.bind(e,t);var i=I[t],u=i?[i]:["tag","commit","tree","blob"];n()}function u(t,r,n){function o(e,t,o){return e?n(e):200>t.status||t.status>=300?n(Error("Invalid HTTP response: "+t.status+" "+o.message)):n(null,o.sha,r)}if(!n)return u.bind(e,t,r);var i;try{i=y(t,r)}catch(a){return n(a)}I[i]=t,e.hasHash(i,function(e,a){if(e)return n(e);if(a)return n(null,i,r);var u;try{u=O[t](r)}catch(e){return n(e)}return"tree"===t&&0===u.tree.length?n(null,U,r):m("POST","/repos/:root/git/"+t+"s",u,o)})}function s(t,r){function n(e){return e?r(e):o&&o.length?c(t,o,r):f(t,r)}if(!r)return s.bind(e,t);var o=t.base&&t.filter(function(e){return!e.mode}).map(function(e){return e.path}),i=t.filter(function(e){return x.isBinary(e.content)});if(!i.length)return n();var a=!1,u=t.length;i.forEach(function(t){e.saveAs("blob",t.content,function(e,o){if(!a){if(e)return a=!0,r(e);delete t.content,t.hash=o,u--,u||n()}})})}function f(e,t){function r(e,r,n){return e?t(e):200>r.status||r.status>=300?t(Error("Invalid HTTP response: "+r.status+" "+n.message)):t(null,n.sha,S.tree(n))}var o={tree:e.map(n)};e.base&&(o.base_tree=e.base),m("POST","/repos/:root/git/trees",o,r)}function c(t,r,n){function o(){Object.keys(u).forEach(function(r){a++,e.pathToEntry(i,r,function(o,i){if(o)return n(o);var c=i.tree,d=u[r];d.del.forEach(function(e){delete c[e]});for(var l in d.add)c[l]=d.add[l];e.saveAs("tree",c,function(e,o,i){if(e)return n(e);if(s.push({path:r,hash:o,mode:w.tree}),!--a){if(s.base=t.base,1===s.length&&""===s[0].path)return n(null,o,i);f(s,n)}})})})}n=b(n);var i=t.base,a=0,u={};r.forEach(function(e){var t=e.substr(0,e.lastIndexOf("/")),r=u[t]||(u[t]={add:{},del:[]}),n=e.substr(e.lastIndexOf("/")+1);r.del.push(n)});var s=t.filter(function(t){if(!t.mode)return!1;var r=t.path.substr(0,t.path.lastIndexOf("/")),i=u[r];if(!i)return!0;var s=t.path.substr(t.path.lastIndexOf("/")+1);return t.hash?(i.add[s]={mode:t.mode,hash:t.hash},!1):(a++,e.saveAs("blob",t.content,function(e,r){return e?n(e):(i.add[s]={mode:t.mode,hash:r},--a||o(),void 0)}),!1)});a||o()}function d(t,r){function n(e,t,n){return e?r(e):404===t.status?r():200>t.status||t.status>=300?r(Error("Invalid HTTP response: "+t.status+" "+n.message)):r(null,n.object.sha)}return r?("HEAD"===t&&(t="refs/heads/master"),/^refs\//.test(t)?m("GET","/repos/:root/git/"+t,n):r(new TypeError("Invalid ref: "+t))):d.bind(e,t)}function l(t,r){function n(e,t,n){return e?r(e):404===t.status?r():200>t.status||t.status>=300?r(Error("Invalid HTTP response: "+t.status+" "+n.message)):r(null,null)}return r?("HEAD"===t&&(t="refs/heads/master"),/^refs\//.test(t)?m("DELETE","/repos/:root/git/"+t,n):r(new TypeError("Invalid ref: "+t))):l.bind(e,t)}function h(t,r){function n(e,t,n){return e?r(e):404===t.status?r():200>t.status||t.status>=300?r(Error("Invalid HTTP response: "+t.status+" "+n.message)):(r(null,n.map(function(e){return e.ref})),void 0)}return r?(t||(t=""),m("GET","/repos/:root/git/refs/"+t,n)):h.bind(e,t)}function p(t,r,n,o){function i(e,o,a){return e?n(e):422===o.status&&"Reference does not exist"===a.message?m("POST","/repos/:root/git/refs",{ref:t,sha:r},i):200>o.status||o.status>=300?n(Error("Invalid HTTP response: "+o.status+" "+a.message)):e?n(e):(n(null,r),void 0)}return n?/^refs\//.test(t)?m("PATCH","/repos/:root/git/"+t,{sha:r,force:!!o},i):n(Error("Invalid ref: "+t)):p.bind(e,t,r)}var m=j(t,o);e.loadAs=i,e.saveAs=u,e.listRefs=h,e.readRef=d,e.updateRef=p,e.deleteRef=l,e.createTree=s,e.hasHash=a},[{offset:300,seconds:1401938626},{offset:400,seconds:1401938626}].forEach(function(e){var t=m(v(e));if(t.seconds!==e.seconds||t.offset!==e.offset)throw Error("Verification failure testing date encoding")})},{"../lib/xhr":12,bodec:2,"git-sha1":4,"js-git/lib/modes":5,"js-git/lib/object-codec":6}],14:[function(e,t){var r="undefined"!=typeof JSON?JSON:e("jsonify");t.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var i=t.space||"";"number"==typeof i&&(i=Array(i+1).join(" "));var a="boolean"==typeof t.cycles?t.cycles:!1,u=t.replacer||function(e,t){return t},s=t.cmp&&function(e){return function(t){return function(r,n){var o={key:r,value:t[r]},i={key:n,value:t[n]};return e(o,i)}}}(t.cmp),f=[];return function c(e,t,d,l){var h=i?"\n"+Array(l+1).join(i):"",p=i?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),d=u.call(e,t,d),void 0!==d){if("object"!=typeof d||null===d)return r.stringify(d);if(n(d)){for(var m=[],v=0;d.length>v;v++){var g=c(d,v,d[v],l+1)||r.stringify(null);m.push(h+i+g)}return"["+m.join(",")+h+"]"}if(-1!==f.indexOf(d)){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}f.push(d);for(var b=o(d).sort(s&&s(d)),m=[],v=0;b.length>v;v++){var t=b[v],y=c(d,t,d[t],l+1);if(y){var w=r.stringify(t)+p+y;m.push(h+i+w)}}return"{"+m.join(",")+h+"}"}}({"":e},"",e,0)};var n=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},{jsonify:15}],15:[function(e,t,r){r.parse=e("./lib/parse"),r.stringify=e("./lib/stringify")},{"./lib/parse":16,"./lib/stringify":17}],16:[function(e,t){var r,n,o,i,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},u=function(e){throw{name:"SyntaxError",message:e,at:r,text:o}},s=function(e){return e&&e!==n&&u("Expected '"+e+"' instead of '"+n+"'"),n=o.charAt(r),r+=1,n},f=function(){var e,t="";for("-"===n&&(t="-",s("-"));n>="0"&&"9">=n;)t+=n,s();if("."===n)for(t+=".";s()&&n>="0"&&"9">=n;)t+=n;if("e"===n||"E"===n)for(t+=n,s(),("-"===n||"+"===n)&&(t+=n,s());n>="0"&&"9">=n;)t+=n,s();return e=+t,isFinite(e)?e:(u("Bad number"),void 0)},c=function(){var e,t,r,o="";if('"'===n)for(;s();){if('"'===n)return s(),o;if("\\"===n)if(s(),"u"===n){for(r=0,t=0;4>t&&(e=parseInt(s(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else{if("string"!=typeof a[n])break;o+=a[n]}else o+=n}u("Bad string")},d=function(){for(;n&&" ">=n;)s()},l=function(){switch(n){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}u("Unexpected '"+n+"'")},h=function(){var e=[];if("["===n){if(s("["),d(),"]"===n)return s("]"),e;for(;n;){if(e.push(i()),d(),"]"===n)return s("]"),e;s(","),d()}}u("Bad array")},p=function(){var e,t={};if("{"===n){if(s("{"),d(),"}"===n)return s("}"),t;for(;n;){if(e=c(),d(),s(":"),Object.hasOwnProperty.call(t,e)&&u('Duplicate key "'+e+'"'),t[e]=i(),d(),"}"===n)return s("}"),t;s(","),d()}}u("Bad object")};i=function(){switch(d(),n){case"{":return p();case"[":return h();case'"':return c();case"-":return f();default:return n>="0"&&"9">=n?f():l()}},t.exports=function(e,t){var a;return o=e,r=0,n=" ",a=i(),d(),n&&u("Syntax error"),"function"==typeof t?function s(e,r){var n,o,i=e[r];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o=s(i,n),void 0!==o?i[n]=o:delete i[n]);return t.call(e,r,i)}({"":a},""):a}},{}],17:[function(e,t){function r(e){return u.lastIndex=0,u.test(e)?'"'+e.replace(u,function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,t){var u,s,f,c,d,l=o,h=t[e];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(e)),"function"==typeof a&&(h=a.call(t,e,h)),typeof h){case"string":return r(h);case"number":return isFinite(h)?h+"":"null";case"boolean":case"null":return h+"";case"object":if(!h)return"null";if(o+=i,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(c=h.length,u=0;c>u;u+=1)d[u]=n(u,h)||"null";return f=0===d.length?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+l+"]":"["+d.join(",")+"]",o=l,f}if(a&&"object"==typeof a)for(c=a.length,u=0;c>u;u+=1)s=a[u],"string"==typeof s&&(f=n(s,h),f&&d.push(r(s)+(o?": ":":")+f));else for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(f=n(s,h),f&&d.push(r(s)+(o?": ":":")+f));return f=0===d.length?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+l+"}":"{"+d.join(",")+"}",o=l,f}}var o,i,a,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.exports=function(e,t,r){var u;if(o="",i="","number"==typeof r)for(u=0;r>u;u+=1)i+=" ";else"string"==typeof r&&(i=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return n("",{"":e})}},{}],18:[function(e,t){function r(){}var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,r="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var n=[];if(t){var o=document.createElement("div"),i=new MutationObserver(function(){var e=n.slice();n.length=0,e.forEach(function(e){e()})});return i.observe(o,{attributes:!0}),function(e){n.length||o.setAttribute("yes","no"),n.push(e)}}return r?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw Error("process.chdir is not supported")}},{}]},{},[1])(1)});